
! В редакторе среза устанавливается ошибочный контекст для поля источника в подзапросе с $from (устанавливает контекст запроса внутри $from, вместо текущего)
    {
      "$context": "Срез",
      "$from": "cdc7d029613b0faee2589d224975f353/5ac47fe3b1da43bf3e3d44de5b8c130b",
      "$select": {
        "Total PASSER_UNDER_160": {
          "$field": "Total PASSER_UNDER_160"
        },
        "Count INN": {
          "$field": "Count INN"
        },
        "Max Total PASSER_UNDER_160": {
          "$context": "sub_undefined",
          "$from": "cdc7d029613b0faee2589d224975f353/5ac47fe3b1da43bf3e3d44de5b8c130b", // ->> "sub_undefined"
          "$select": {
            "Max Total PASSER_UNDER_160": {
              "$max": {
                "$field": "Total PASSER_UNDER_160",
                "$context": "cdc7d029613b0faee2589d224975f353/5ac47fe3b1da43bf3e3d44de5b8c130b" // ->> "sub_undefined"
              }
            }
          }
        }
      }
    }

! В движке ошибка в макросах (в частности $gr*), если у среза сложных источник (не $from).
Для обхода ошибки достаточно создать срез и использовать $gmax, либо обернуть запрос во вью

+ добавить иконку предупреждения (желтый воскл знак), когда
    1) имя выходного поля среза уже существует в кубе и содержит выражение (не "as-is" поле источника)
        "Поле 'INN' уже существует и вероятно принимает другие значения"

+ поддержать в редакторе срезов Ctrl+Z - в текстовом редакторе это уже реализовано,
достаточно пробросить событие в текстовый редактор, в нем действие отменится и обновятся виджеты автоматически

+ добавить в редактор срезов спец-операции:
    1) вынести запрос во вью (поместить запрос в $view и заменить на ссылку)
    2) обернуть запрос вью (заменить запрос на запрос к вью с телом старого запроса)
