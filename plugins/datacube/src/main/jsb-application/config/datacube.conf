include "jsb.store.conf"

datacube = {
  folder = "../web"
  http-port = 8888
  widgets = {
    path = "widgets"
  }
  queryCache = {
    enabled = true
#  	batchSize = 10
#	closeIteratorTimeout = 60000
#	controllerTickInterval = 5000
  }

  debug = false
  query.translateExtractedIsolatedViews = false
  query.translators = {
#    "DataCube.Providers.SqlTableDataProvider" = "DataCube.Query.Translators.SQLTranslator"
    "DataCube.Providers.SqlTableDataProvider" = "DataCube.Query.Translators.SQLViewsTranslator"
    "DataCube.Providers.InMemoryDataProvider" = "DataCube.Query.Translators.LockiTranslator"
    "DataCube.Providers.JsonFileDataProvider" = "DataCube.Query.Translators.LockiTranslator"
  }

  query.transformers = [
    "DataCube.Query.Transforms.EmbedSlices",
    "DataCube.Query.Transforms.PatchDirectFieldsAliases",
    "DataCube.Query.Transforms.UnwrapComplexOperators",
    "DataCube.Query.Transforms.PropagateGlobalFilter",
    "DataCube.Query.Transforms.NormalizeFilters",
    "DataCube.Query.Transforms.OrderSelect",
    "DataCube.Query.Transforms.DefineContexts",
    #"DataCube.Query.Transforms.NestedQueryOptimization",
  ]
  
}

workspace.managers.datacube = {
	folderName = ".datacube"
}

workspace.workspaceTypes.user.entryStore.baseDirectory = "%USER_DIR%/.datacube_workspaces"
workspace.workspaceTypes.user.artifactStore.workspaceDirectory = "%USER_DIR%/.datacube_workspaces/%WORKSPACE_ID%"