{
	$name: 'DataCube.Model.Dashboard',
	$parent: 'DataCube.Model.SettingsEntry',
	
	$expose: {
		priority: 0.5, 
		nodeType:'DataCube.DashboardNode',
		create: true,
		move: true,
		remove: true,
		title: 'Визуализация',
		description: 'Позволяет связать несколько виджетов в интерактивный слайд с возможностью публикации на сторонних сайтах',
		icon: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDY0IDY0IiBoZWlnaHQ9IjY0cHgiIGlkPSJMYXllcl8xIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA2NCA2NCIgd2lkdGg9IjY0cHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnIGlkPSJmaW5hbmNpYWxfcmVwb3J0Ij48ZyBpZD0idHJhaW5pbmciPjxnPjxyZWN0IGZpbGw9IiNFMEUwRTAiIGhlaWdodD0iMzciIHdpZHRoPSI1NCIgeD0iNSIgeT0iMTIiLz48L2c+PGcgb3BhY2l0eT0iMC4yIj48cmVjdCBmaWxsPSIjMzc0NzRGIiBoZWlnaHQ9IjIiIHdpZHRoPSI1NCIgeD0iNSIgeT0iMTIiLz48L2c+PGc+PGc+PHBhdGggZD0iTTYxLDExYzAsMS4xLTAuOSwyLTIsMkg1Yy0xLjEsMC0yLTAuOS0yLTJsMCwwYzAtMS4xLDAuOS0yLDItMmg1NEM2MC4xLDksNjEsOS45LDYxLDExTDYxLDExeiIgZmlsbD0iIzkwQTRBRSIvPjwvZz48Zz48cGF0aCBkPSJNMy4yNzksMTBoNTcuNDQxQzYwLjM3Miw5LjQwNiw1OS43MzQsOSw1OSw5SDVDNC4yNjYsOSwzLjYyNyw5LjQwNiwzLjI3OSwxMHoiIGZpbGw9IiNCMEJFQzUiLz48L2c+PGc+PHBhdGggZD0iTTMuMjc5LDEyQzMuNjI3LDEyLjU5NCw0LjI2NiwxMyw1LDEzaDU0YzAuNzM0LDAsMS4zNzItMC40MDYsMS43MjEtMUgzLjI3OXoiIGZpbGw9IiM3ODkwOUMiLz48L2c+PC9nPjxnPjxnPjxwYXRoIGQ9Ik02MSw1MGMwLDEuMS0wLjksMi0yLDJINWMtMS4xLDAtMi0wLjktMi0ybDAsMGMwLTEuMSwwLjktMiwyLTJoNTRDNjAuMSw0OCw2MSw0OC45LDYxLDUwTDYxLDUweiIgZmlsbD0iIzkwQTRBRSIvPjwvZz48Zz48cGF0aCBkPSJNMy4yNzksNDloNTcuNDQxYy0wLjM0OS0wLjU5NC0wLjk4Ni0xLTEuNzIxLTFINUM0LjI2Niw0OCwzLjYyNyw0OC40MDYsMy4yNzksNDl6IiBmaWxsPSIjQjBCRUM1Ii8+PC9nPjxnPjxwYXRoIGQ9Ik0zLjI3OSw1MUMzLjYyNyw1MS41OTQsNC4yNjYsNTIsNSw1Mmg1NGMwLjczNCwwLDEuMzcyLTAuNDA2LDEuNzIxLTFIMy4yNzl6IiBmaWxsPSIjNzg5MDlDIi8+PC9nPjwvZz48Zz48cGF0aCBkPSJNMzAsOVY2YzAtMS4xMDQsMC44OTYtMiwyLTJsMCwwYzEuMTA0LDAsMiwwLjg5NiwyLDJ2M0gzMHoiIGZpbGw9IiM2MDdEOEIiLz48L2c+PGc+PHBvbHlnb24gZmlsbD0iIzYwN0Q4QiIgcG9pbnRzPSI0NSw2MSA0OSw2MSA0Niw1MiA0Miw1MiAgICAiLz48L2c+PGc+PHBvbHlnb24gZmlsbD0iIzYwN0Q4QiIgcG9pbnRzPSIxOSw2MSAxNSw2MSAxOCw1MiAyMiw1MiAgICAiLz48L2c+PGcgb3BhY2l0eT0iMC4yIj48cG9seWdvbiBmaWxsPSIjMzc0NzRGIiBwb2ludHM9IjIxLjMzMyw1NCAyMiw1MiAxOCw1MiAxNy4zMzMsNTQgICAgIi8+PC9nPjxnIG9wYWNpdHk9IjAuMiI+PHBvbHlnb24gZmlsbD0iIzM3NDc0RiIgcG9pbnRzPSI0Ni42NjcsNTQgNDYsNTIgNDIsNTIgNDIuNjY3LDU0ICAgICIvPjwvZz48Zz48cmVjdCBmaWxsPSIjNTQ2RTdBIiBoZWlnaHQ9IjEiIHdpZHRoPSI4IiB4PSIxMCIgeT0iMjAiLz48L2c+PGc+PHJlY3QgZmlsbD0iIzU0NkU3QSIgaGVpZ2h0PSIxIiB3aWR0aD0iOCIgeD0iMTAiIHk9IjE3Ii8+PC9nPjxnPjxyZWN0IGZpbGw9IiNGRjcwNDMiIGhlaWdodD0iOCIgd2lkdGg9IjQiIHg9IjExIiB5PSIzNCIvPjwvZz48Zz48cmVjdCBmaWxsPSIjRkY3MDQzIiBoZWlnaHQ9IjE0IiB3aWR0aD0iNCIgeD0iMTgiIHk9IjI4Ii8+PC9nPjxnPjxyZWN0IGZpbGw9IiNGRjcwNDMiIGhlaWdodD0iMjAiIHdpZHRoPSI0IiB4PSIyNSIgeT0iMjIiLz48L2c+PGc+PHJlY3QgZmlsbD0iIzU0NkU3QSIgaGVpZ2h0PSIxIiB3aWR0aD0iMjAiIHg9IjEwIiB5PSI0MyIvPjwvZz48Zz48cmVjdCBmaWxsPSIjNTQ2RTdBIiBoZWlnaHQ9IjEiIHdpZHRoPSI4IiB4PSIzNSIgeT0iNDIiLz48L2c+PGc+PHJlY3QgZmlsbD0iIzU0NkU3QSIgaGVpZ2h0PSIxIiB3aWR0aD0iMTkiIHg9IjM1IiB5PSIzOCIvPjwvZz48Zz48cmVjdCBmaWxsPSIjNTQ2RTdBIiBoZWlnaHQ9IjEiIHdpZHRoPSIxOSIgeD0iMzUiIHk9IjM0Ii8+PC9nPjxnPjxyZWN0IGZpbGw9IiM1NDZFN0EiIGhlaWdodD0iMSIgd2lkdGg9IjE5IiB4PSIzNSIgeT0iMzAiLz48L2c+PC9nPjxwb2x5Z29uIGZpbGw9IiNGRjcwNDMiIHBvaW50cz0iNTQuMzk0LDE5LjM2NSA1NCwxNyA1MS42MzUsMTcuMzk1IDUwLjc5OCwxOC41NjUgNTIuNDY1LDE4LjI4NyA0OC44OTEsMjMuMjkzIDQ0LjkxMiwyMC4zMSAgICA0MC44NjIsMjUuMzcyIDM2LjgyOSwyMy4zNTUgMzQuNTg0LDI2LjcyMyAzNS40MTYsMjcuMjc3IDM3LjE3MSwyNC42NDUgNDEuMTM4LDI2LjYyOCA0NS4wODgsMjEuNjkgNDkuMTA5LDI0LjcwNyA1My4yOCwxOC44NjggICAgNTMuNTU4LDIwLjUzNiAgIi8+PC9nPjwvc3ZnPg==',
		order: 30
	},
	
	$scheme: {
		access: {
			render: 'group',
			name: 'Доступ к визуализации',
			items: {
				workspaceId: {
					render: 'template',
					template: `#dot
						<style>
							.workspaceId {}
							.workspaceId > .icon {
								width: 20px;
								height: 20px;
								background-size: 100%;
								position: absolute;
								left: 0;
								top: 50%;
								margin-top: -10px;
								background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8IS0tIFN2ZyBWZWN0b3IgSWNvbnMgOiBodHRwOi8vd3d3Lm9ubGluZXdlYmZvbnRzLmNvbS9pY29uIC0tPg0KDQo8c3ZnDQogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iDQogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIg0KICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIg0KICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyINCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyINCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCINCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIg0KICAgdmVyc2lvbj0iMS4xIg0KICAgeD0iMHB4Ig0KICAgeT0iMHB4Ig0KICAgdmlld0JveD0iMCAwIDE2IDE2Ig0KICAgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIg0KICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSINCiAgIGlkPSJzdmcyIg0KICAgaW5rc2NhcGU6dmVyc2lvbj0iMC45MSByMTM3MjUiDQogICBzb2RpcG9kaTpkb2NuYW1lPSJ3b3Jrc3BhY2Uuc3ZnIg0KICAgd2lkdGg9IjE2Ig0KICAgaGVpZ2h0PSIxNiI+PGRlZnMNCiAgICAgaWQ9ImRlZnMxNCIgLz48c29kaXBvZGk6bmFtZWR2aWV3DQogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiINCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiDQogICAgIGJvcmRlcm9wYWNpdHk9IjEiDQogICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiDQogICAgIGdyaWR0b2xlcmFuY2U9IjEwIg0KICAgICBndWlkZXRvbGVyYW5jZT0iMTAiDQogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIg0KICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIg0KICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE5MjAiDQogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjExMzgiDQogICAgIGlkPSJuYW1lZHZpZXcxMiINCiAgICAgc2hvd2dyaWQ9ImZhbHNlIg0KICAgICBpbmtzY2FwZTp6b29tPSIxNS4xMDQiDQogICAgIGlua3NjYXBlOmN4PSIyMy40Nzk0OSINCiAgICAgaW5rc2NhcGU6Y3k9IjQuMTA2Njk3MyINCiAgICAgaW5rc2NhcGU6d2luZG93LXg9Ii04Ig0KICAgICBpbmtzY2FwZTp3aW5kb3cteT0iLTgiDQogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiDQogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9InN2ZzIiIC8+PG1ldGFkYXRhDQogICAgIGlkPSJtZXRhZGF0YTQiPiBTdmcgVmVjdG9yIEljb25zIDogaHR0cDovL3d3dy5vbmxpbmV3ZWJmb250cy5jb20vaWNvbiA8cmRmOlJERj48Y2M6V29yaw0KICAgICByZGY6YWJvdXQ9IiI+PGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+PGRjOnR5cGUNCiAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPjxkYzp0aXRsZT48L2RjOnRpdGxlPjwvY2M6V29yaz48L3JkZjpSREY+PC9tZXRhZGF0YT48Zw0KICAgICBpZD0iZzgiDQogICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuMDAxNjMxMTUsMCwwLC0wLjAwMTYzMTE1LC0wLjE3OTcxOTMyLDguMTgzMzYwNikiPjxwYXRoDQogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCINCiAgICAgICBpZD0icGF0aDEwIg0KICAgICAgIGQ9Ik0gOTA1LjksNDk4Ny40IEMgODYzLjMsNDk3MS45IDgwOSw0OTM5IDc4MS45LDQ5MTMuOCA2NzUuMyw0ODE1IDY3OS4yLDQ4NjkuMiA2NzkuMiwzNDU0LjggNjc5LjIsMTk3Mi41IDY3MS41LDIwNTIgODMyLjMsMTk1MS4yIGwgODcuMiwtNTYuMiAxMTQ5LDAgMTE0OSwwIDAsLTI1NjcuNCBjIDAsLTI3MzUuOSAtMS45LC0yNjU2LjQgODcuMiwtMjY5MS4zIDE3LjQsLTUuOCA0NDEuOCwtMTEuNiA5NDEuNywtMTEuNiBsIDkwOC42LDAgMCwtNTQ2LjQgYyAwLC0zMDIuMyA5LjcsLTU3OS4zIDE5LjQsLTYxNi4yIDIzLjMsLTg3LjIgMTQ1LjMsLTIwNy4zIDIzNC41LC0yMzIuNSA5MywtMjcuMSAzNTY3LjEsLTI1LjIgMzY2NCwwIDQwLjcsMTEuNiA5OC44LDQyLjYgMTMxLjcsNzEuNyAxMjAuMSwxMDAuOCAxMTYuMyw1Mi4zIDExNi4zLDEyNzEgbCAwLDExMTIuMiAtNDQuNiw2NS45IGMgLTIzLjMsMzQuOSAtNzMuNiw4NS4zIC0xMDguNSwxMDguNSBsIC02NS45LDQ0LjYgLTgyOS4zLDAgLTgyNy40LDAgLTQzMC4xLDIxMy4xIC00MzAuMSwyMTUuMSAtNjA0LjUsLTUuOCAtNjA2LjUsLTUuOCAtNjkuNywtNTQuMiBjIC0xMzcuNiwtMTA0LjYgLTEzOS41LC0xMTAuNCAtMTQ1LjMsLTc1NS43IGwgLTUuOCwtNTc1LjUgLTgxMy44LDAgLTgxMS45LDAgMCwxNTY3LjUgMCwxNTY3LjUgNjMuOSw5LjcgYyA3OS41LDE1LjUgMTQ2MSwxNS41IDE1MTkuMSwwIDQyLjYsLTkuNyA0Mi42LC0xMS42IDQ4LjQsLTU4NS4yIGwgNS44LC01NzcuNCA1Mi4zLC03Ny41IGMgMzEsLTQ2LjUgODUuMywtOTUgMTM1LjYsLTEyMC4xIDg1LjMsLTQwLjcgOTEuMSwtNDAuNyAxODkxLjEsLTQwLjcgMTIyNi41LDAgMTgyMS4zLDUuOCAxODU4LjIsMjEuMyA2NS45LDI1LjIgMTU1LDEwNi42IDE5MS44LDE3Ni4zIDIzLjMsNDIuNiAyNy4xLDI0Mi4yIDI3LjEsMTE0OSAwLDEyMjIuNiAzLjksMTE4MCAtMTMxLjcsMTI4NC42IGwgLTY3LjgsNTIuMyAtODU0LjUsOS43IC04NTQuNSw5LjcgLTQxNi42LDIwNy4zIC00MTYuNiwyMDkuMyAtNTY5LjcsMCBjIC01NDIuNSwwIC01NzUuNCwtMS45IC02NTYuOCwtNDAuNyAtNTAuNCwtMjUuMiAtMTA0LjYsLTczLjYgLTEzNS42LC0xMjAuMSBsIC01Mi4zLC03Ny41IC01LjgsLTU3OS40IC01LjgsLTU3Ny40IC04MTMuOCwwIC04MTEuOSwwIDAsNzQ2IDAsNzQ0IDU0OC4zLDUuOCA1NTAuMyw1LjggNjkuNyw1NC4zIGMgMTQ3LjMsMTEwLjQgMTM5LjUsNDguNCAxMzkuNSwxMjg0LjYgbCAwLDExMDQuNiAtNTQuMyw4MS40IGMgLTI5LjEsNDQuNiAtODcuMiw5OC44IC0xMjkuOCwxMjAuMSAtNzEuNywzNi44IC0xMTIuNCwzOC44IC05MDEsMzguOCBsIC04MjUuNCwwIC00MTAuOCwyMDkuMyAtNDEwLjgsMjA3LjMgLTU2MS45LDMuOSBjIC00MzkuNiwzLjcgLTU3Ny4yLC0wLjEgLTYzNS4zLC0yMS40IHogbSAxNTM2LjUsLTQ5Ni4xIDM5Ny4yLC0yMDMuNSA4NDIuOSwtOS43IDg0Mi45LC05LjcgMCwtMTAyNi44IDAsLTEwMjYuOSAtMTc2Ny4xLC01LjggLTE3NjksLTMuOSAwLDEyNTEuNyAwLDEyNDkuOCA1MjksLTUuOCA1MjcsLTUuOCAzOTcuMSwtMjAzLjYgeiBtIDQ0OTUuMiwtMzIxNi40IDQyOC4yLC0yMTMuMSA4MjEuNSwwIDgyMy41LDAgMCwtMTAzNi42IDAsLTEwMzYuNiAtMTc2Ny4xLDMuOSAtMTc2OSw1LjggLTMuOSwxMjIwLjcgYyAtMS45LDY3Mi4zIDAsMTIzMi4zIDMuOSwxMjQ1LjkgNS44LDE3LjQgMTI3LjksMjMuMiA1MjEuMiwyMy4yIGwgNTExLjUsMCA0MzAuMiwtMjEzLjIgeiBtIDAsLTM0NjguMyA0MzAuMSwtMjEzLjEgODIxLjUsMCA4MjEuNSwwIDAsLTEwMzYuNiAwLC0xMDM2LjYgLTE3NjcuMSwzLjkgLTE3NjksNS44IC0zLjksMTI0NS45IC0zLjksMTI0My45IDUyMS4yLDAgNTIxLjIsMCA0MjguNCwtMjEzLjIgeiIgLz48L2c+PGcNCiAgICAgaWQ9Imc0MTUwIj48cGF0aA0KICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc3NjY2Nzc2NjIg0KICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiDQogICAgICAgaWQ9InBhdGg0MTQ2Ig0KICAgICAgIGQ9Im0gMS40Mzk2MTU2LDIuNTUyMzk3NyAwLC0yLjAyNDc4NjAzIDAuODQ2NTgyOCwwIDAuODQ2NTgyOCwwIDAuNjYyOTA3LDAuMzM5NDE1IDAuNjYyOTA2OCwwLjMzOTQxNTAzIDAuNDc0MzMyNSwzLjI3ZS01IGMgMC4yNjA4ODI4LDEuODNlLTUgMC44NzcyNDE0LDAuMDA3IDEuMzY5Njg1OCwwLjAxNTUwNSBsIDAuODk1MzUzNCwwLjAxNTQ3MiAwLDEuNjU0MzMxNyAwLC0wLjk5MDc2NDMgLTEuMjY3ODgxLDAuMDE1NTM0IGMgLTAuNjk3MzM0NSwwLjAwODU0IC0xLjk5MzA1NywwLjAyODQwOCAtMi44NzkxNzU1LDAuMDE1NTM1IGwgLTEuNjExMjk0NiwwIHoiDQogICAgICAgc3R5bGU9ImZpbGw6I2ZmYTAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIgLz48cGF0aA0KICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiDQogICAgICAgaWQ9InBhdGg0MTQ4Ig0KICAgICAgIGQ9Im0gMS40Mzk2MTU2LDMuMjU1OTQ1NiAwLC0xLjMyMTIzODEgMi4xMjQyNjk4LDAuMDAxMDggYyAxLjE2ODM0ODMsNS45NjVlLTQgMi40NjM5NzczLC0wLjAwNjczIDIuODc5MTc1NSwtMC4wMTYyNzYgbCAwLjc1NDkwNTgsLTAuMDE3MzYgMCwxLjMyMTk4IDAsMS4zMjE5OCAtMS4yNjc4ODEsMC4wMTU1MzQgYyAtMC42OTczMzQ1LDAuMDA4NTQgLTEuOTkyOTYzNSwwLjAxNTUzNCAtMi44NzkxNzU1LDAuMDE1NTM0IGwgLTEuNjExMjk0NiwwIDAsLTEuMzIxMjM4MiB6Ig0KICAgICAgIHN0eWxlPSJmaWxsOiNmZmNhMjg7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjA7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+PC9nPjxnDQogICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuOTk5OTk5OTksMCwwLDEuMDEwMjE4Myw3LjI5ODM5ODcsNS4yMTc3NTMzKSINCiAgICAgaWQ9Imc0MTUwLTAiPjxwYXRoDQogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2Nzc2NjY3NzY2MiDQogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCINCiAgICAgICBpZD0icGF0aDQxNDYtNyINCiAgICAgICBkPSJtIDEuNDM5NjE1NiwyLjU1MjM5NzcgMCwtMi4wMjQ3ODYwMyAwLjg0NjU4MjgsMCAwLjg0NjU4MjgsMCAwLjY2MjkwNywwLjMzOTQxNSAwLjY2MjkwNjgsMC4zMzk0MTUwMyAwLjQ3NDMzMjUsMy4yN2UtNSBjIDAuMjYwODgyOCwxLjgzZS01IDAuODc3MjQxNCwwLjAwNyAxLjM2OTY4NTgsMC4wMTU1MDUgbCAwLjg5NTM1MzQsMC4wMTU0NzIgMCwxLjY1NDMzMTcgMCwtMC45OTA3NjQzIC0xLjI2Nzg4MSwwLjAxNTUzNCBjIC0wLjY5NzMzNDUsMC4wMDg1NCAtMS45OTMwNTcsMC4wMjg0MDggLTIuODc5MTc1NSwwLjAxNTUzNSBsIC0xLjYxMTI5NDYsMCB6Ig0KICAgICAgIHN0eWxlPSJmaWxsOiNmZmEwMDA7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjA7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+PHBhdGgNCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIg0KICAgICAgIGlkPSJwYXRoNDE0OC0zIg0KICAgICAgIGQ9Im0gMS40Mzk2MTU2LDMuMjU1OTQ1NiAwLC0xLjMyMTIzODEgMi4xMjQyNjk4LDAuMDAxMDggYyAxLjE2ODM0ODMsNS45NjVlLTQgMi40NjM5NzczLC0wLjAwNjczIDIuODc5MTc1NSwtMC4wMTYyNzYgbCAwLjc1NDkwNTgsLTAuMDE3MzYgMCwxLjMyMTk4IDAsMS4zMjE5OCAtMS4yNjc4ODEsMC4wMTU1MzQgYyAtMC42OTczMzQ1LDAuMDA4NTQgLTEuOTkyOTYzNSwwLjAxNTUzNCAtMi44NzkxNzU1LDAuMDE1NTM0IGwgLTEuNjExMjk0NiwwIDAsLTEuMzIxMjM4MiB6Ig0KICAgICAgIHN0eWxlPSJmaWxsOiNmZmNhMjg7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjA7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+PC9nPjxnDQogICAgIHRyYW5zZm9ybT0ibWF0cml4KDEuMDA1NzQ4OCwwLDAsMC45OTk5OTk5OSw3LjI5MjM3MTQsMTAuODk4NjExKSINCiAgICAgaWQ9Imc0MTUwLTUiPjxwYXRoDQogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2Nzc2NjY3NzY2MiDQogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCINCiAgICAgICBpZD0icGF0aDQxNDYtMCINCiAgICAgICBkPSJtIDEuNDM5NjE1NiwyLjU1MjM5NzcgMCwtMi4wMjQ3ODYwMyAwLjg0NjU4MjgsMCAwLjg0NjU4MjgsMCAwLjY2MjkwNywwLjMzOTQxNSAwLjY2MjkwNjgsMC4zMzk0MTUwMyAwLjQ3NDMzMjUsMy4yN2UtNSBjIDAuMjYwODgyOCwxLjgzZS01IDAuODc3MjQxNCwwLjAwNyAxLjM2OTY4NTgsMC4wMTU1MDUgbCAwLjg5NTM1MzQsMC4wMTU0NzIgMCwxLjY1NDMzMTcgMCwtMC45OTA3NjQzIC0xLjI2Nzg4MSwwLjAxNTUzNCBjIC0wLjY5NzMzNDUsMC4wMDg1NCAtMS45OTMwNTcsMC4wMjg0MDggLTIuODc5MTc1NSwwLjAxNTUzNSBsIC0xLjYxMTI5NDYsMCB6Ig0KICAgICAgIHN0eWxlPSJmaWxsOiNmZmEwMDA7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjA7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+PHBhdGgNCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIg0KICAgICAgIGlkPSJwYXRoNDE0OC01Ig0KICAgICAgIGQ9Im0gMS40Mzk2MTU2LDMuMjU1OTQ1NiAwLC0xLjMyMTIzODEgMi4xMjQyNjk4LDAuMDAxMDggYyAxLjE2ODM0ODMsNS45NjVlLTQgMi40NjM5NzczLC0wLjAwNjczIDIuODc5MTc1NSwtMC4wMTYyNzYgbCAwLjc1NDkwNTgsLTAuMDE3MzYgMCwxLjMyMTk4IDAsMS4zMjE5OCAtMS4yNjc4ODEsMC4wMTU1MzQgYyAtMC42OTczMzQ1LDAuMDA4NTQgLTEuOTkyOTYzNSwwLjAxNTUzNCAtMi44NzkxNzU1LDAuMDE1NTM0IGwgLTEuNjExMjk0NiwwIDAsLTEuMzIxMjM4MiB6Ig0KICAgICAgIHN0eWxlPSJmaWxsOiNmZmNhMjg7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjA7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+PC9nPjwvc3ZnPg==);
							}
							.workspaceId > .editor {
								display: block;
								padding-left: 26px;
								min-width: 280px;
							}
							.workspaceId > .editor > input {
								font-size: 14px;
							}
						</style>
						<div class="option workspaceId">
							<div class="icon"></div>
							<div class="editor" jsb="JSB.Widgets.PrimitiveEditor" readonly="true" title="Идентификатор рабочей области" placeholder="Идентификатор рабочей области"></div>
						</div>`,
					onInit: function(){
						var dashboardEntry = JSB.getInstance(this.getContext());
						this.find('.editor').jsb().setData(dashboardEntry.getWorkspace().getId());
					}
				},
				dashboardId: {
					render: 'template',
					template: `#dot
						<style>
							.dashboardId {}
							.dashboardId > .icon {
								width: 20px;
								height: 20px;
								background-size: 100%;
								position: absolute;
								left: 0;
								top: 50%;
								margin-top: -10px;
								background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8IS0tIFN2ZyBWZWN0b3IgSWNvbnMgOiBodHRwOi8vd3d3Lm9ubGluZXdlYmZvbnRzLmNvbS9pY29uIC0tPg0KDQo8c3ZnDQogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iDQogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIg0KICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIg0KICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyINCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyINCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCINCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIg0KICAgdmVyc2lvbj0iMS4xIg0KICAgeD0iMHB4Ig0KICAgeT0iMHB4Ig0KICAgdmlld0JveD0iMCAwIDIwIDIwIg0KICAgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIg0KICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSINCiAgIGlkPSJzdmcyIg0KICAgaW5rc2NhcGU6dmVyc2lvbj0iMC45MSByMTM3MjUiDQogICBzb2RpcG9kaTpkb2NuYW1lPSJkYXNoYm9hcmQuc3ZnIg0KICAgd2lkdGg9IjIwIg0KICAgaGVpZ2h0PSIyMCI+PGRlZnMNCiAgICAgaWQ9ImRlZnMxMiIgLz48c29kaXBvZGk6bmFtZWR2aWV3DQogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiINCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiDQogICAgIGJvcmRlcm9wYWNpdHk9IjEiDQogICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiDQogICAgIGdyaWR0b2xlcmFuY2U9IjEwIg0KICAgICBndWlkZXRvbGVyYW5jZT0iMTAiDQogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIg0KICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIg0KICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE5MjAiDQogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjExMzgiDQogICAgIGlkPSJuYW1lZHZpZXcxMCINCiAgICAgc2hvd2dyaWQ9ImZhbHNlIg0KICAgICBpbmtzY2FwZTp6b29tPSIxMS4zMTM3MDkiDQogICAgIGlua3NjYXBlOmN4PSItMTQuNTIyMzYiDQogICAgIGlua3NjYXBlOmN5PSIxNi4wMzM1NzMiDQogICAgIGlua3NjYXBlOndpbmRvdy14PSItOCINCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii04Ig0KICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIg0KICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJzdmcyIg0KICAgICBzaG93Z3VpZGVzPSJ0cnVlIg0KICAgICBpbmtzY2FwZTpndWlkZS1iYm94PSJ0cnVlIj48c29kaXBvZGk6Z3VpZGUNCiAgICAgICBwb3NpdGlvbj0iMC45OTMxMTQ0MSwxNC40NjYzNjciDQogICAgICAgb3JpZW50YXRpb249IjEsMCINCiAgICAgICBpZD0iZ3VpZGU0MjU2IiAvPjxzb2RpcG9kaTpndWlkZQ0KICAgICAgIHBvc2l0aW9uPSI2LjkxODY5NywyMC42MDcxMjQiDQogICAgICAgb3JpZW50YXRpb249IjAsMSINCiAgICAgICBpZD0iZ3VpZGU0MjU4IiAvPjxzb2RpcG9kaTpndWlkZQ0KICAgICAgIHBvc2l0aW9uPSIyLjAwMTM3ODEsMTguMDAwNjk5Ig0KICAgICAgIG9yaWVudGF0aW9uPSIwLDEiDQogICAgICAgaWQ9Imd1aWRlNDI2MCIgLz48c29kaXBvZGk6Z3VpZGUNCiAgICAgICBwb3NpdGlvbj0iMS41NTY2Mjc0LDE2Ljk5NDE1OCINCiAgICAgICBvcmllbnRhdGlvbj0iMCwxIg0KICAgICAgIGlkPSJndWlkZTQyNjIiIC8+PHNvZGlwb2RpOmd1aWRlDQogICAgICAgcG9zaXRpb249IjIwLjAwMjA3NywxNy4xNDYzMSINCiAgICAgICBvcmllbnRhdGlvbj0iMSwwIg0KICAgICAgIGlkPSJndWlkZTQyNjQiIC8+PHNvZGlwb2RpOmd1aWRlDQogICAgICAgcG9zaXRpb249IjE4Ljk5NTUzNiwxNC44MTcyMiINCiAgICAgICBvcmllbnRhdGlvbj0iMSwwIg0KICAgICAgIGlkPSJndWlkZTQyNjYiIC8+PHNvZGlwb2RpOmd1aWRlDQogICAgICAgcG9zaXRpb249Ii0wLjUyOTY2MTAyLDMuOTg5MDA5NSINCiAgICAgICBvcmllbnRhdGlvbj0iMCwxIg0KICAgICAgIGlkPSJndWlkZTQyNjgiIC8+PHNvZGlwb2RpOmd1aWRlDQogICAgICAgcG9zaXRpb249IjQuOTg1ODg5Myw0Ljk4NTg4OTMiDQogICAgICAgb3JpZW50YXRpb249IjAsMSINCiAgICAgICBpZD0iZ3VpZGU0MjcwIiAvPjwvc29kaXBvZGk6bmFtZWR2aWV3PjxtZXRhZGF0YQ0KICAgICBpZD0ibWV0YWRhdGE0Ij4gU3ZnIFZlY3RvciBJY29ucyA6IGh0dHA6Ly93d3cub25saW5ld2ViZm9udHMuY29tL2ljb24gPHJkZjpSREY+PGNjOldvcmsNCiAgICAgcmRmOmFib3V0PSIiPjxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PjxkYzp0eXBlDQogICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz48ZGM6dGl0bGUgLz48L2NjOldvcms+PC9yZGY6UkRGPjwvbWV0YWRhdGE+PHJlY3QNCiAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSINCiAgICAgaWQ9InJlY3Q0MTQwIg0KICAgICB3aWR0aD0iMTguODY5MTczIg0KICAgICBoZWlnaHQ9IjExLjQ4NzAyMyINCiAgICAgeD0iMC40OTY1NTcyMSINCiAgICAgeT0iMi44ODI2MzExIiAvPjxwYXRoDQogICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiDQogICAgIGlkPSJwYXRoOCINCiAgICAgZD0ibSAxOS4xNzM2MDMsMTYuMDI3NTM4IGMgLTIuMzE0MDIyLC0wLjAxMDE5IC00LjYzMDA4MywtMC4wMDYxIC02Ljk0NDEwNSwtMC4wMDYxIGwgLTAuMzY2OTgyLDAgYyAwLjAwNzgsMC4yNDc1MDkgMC4wMzQwNiwwLjQwOTY0IDAuMDkzNzgsMC42NzE5MDQgMC4wMjQ0NywwLjU4MzA5MyAwLjI5NzY2MywwLjk5MDg1IDAuODA1MzIxLDEuMjYyMDA4IDAuMjA1OTE3LDAuMTEwMDk1IDAuNDAzNjc5LDAuMjM2NSAwLjYwMTQ0MiwwLjM2MDg2NiAwLjA1OTEyLDAuMDM2NyAwLjEyMjMyNywwLjA3OTUxIDAuMTYzMTAyLDAuMTM0NTU5IDAuMTEyMTM0LDAuMTU0OTQ4IDAuMDM4NzQsMC4yOTc2NjMgLTAuMTU0OTQ3LDAuMzAxNzQxIC0wLjI5OTcwMiwwLjAwNjEgLTAuNTk3MzY1LDAuMDAyIC0wLjg5NzA2NiwwLjAwMiAtMS45MjQ2MTQsMCAtMy44NDkyMjgxLDAgLTUuNzczODQyLC0wLjAwMiAtMC4xMTIxMzMzLDAgLTAuMjU0ODQ4MywwLjAzNDY2IC0wLjI5MzU4NTIsLTAuMTE4MjUgLTAuMDM2Njk4LC0wLjE0ODgzMSAwLjA2NTI0MSwtMC4yNDA1NzcgMC4xODM0OTA3LC0wLjMwOTg5NSAwLjI1Njg4NywtMC4xNTI5MDkgMC41MTM3NzQxLC0wLjMwNTgxOCAwLjc2ODYyMjMsLTAuNDYwNzY2IDAuMzkzNDg1NywtMC4yNDA1NzcgMC42MDk1OTcsLTAuNTkxMjQ4IDAuNjQ0MjU2NCwtMS4wNTIwMTQgMC4wMzY2OTgsLTAuNDg1MjMxIDAuMDczMzk2LC0wLjI3MDI2MiAwLjExMjEzMzIsLTAuNzg4MTE0IGwgLTAuMjUyODA5NCwwIC03LjExOTQ0MDc0LDAgYyAtMC41MTc4NTE2NCwwIC0wLjc0NjE5NTY4LC0wLjIyODM0NCAtMC43NDYxOTU2OCwtMC43NTAyNzMgbCAwLC0xMi41NTU3NDAyIGMgMCwtMC40Njg5MjA3IDAuMjQwNTc2NzUsLTAuNzE1NjEzOCAwLjcwMzM4MTE3LC0wLjcxNTYxMzggNi4xNTcxMzM3NSwwIDEyLjMxNDI2NzI1LDAuMDAyMDQgMTguNDcxNDAxMjUsLTAuMDA2MTIgMC4zODMyOTIsMCAwLjY3NTg0OCwwLjExODI0OTYgMC44Mjg3NTgsMC40NzI5OTg0IGwgMCwxMi44NTc1OTY2IGMgMC4wMDE4LDAuMzc2MTE4IC0wLjQ0MzQyOCwwLjcwMzI2NCAtMC44MjY3MTksMC43MDEyMjUgeiBtIC0wLjE3Nzg1OCwtMTIuNjU5NzE3NCAtMTcuOTk2MjIxMywwIDAsMTEuNjQ0MTY5NCAxNy45OTYyMjEzLDAgeiINCiAgICAgc3R5bGU9ImZpbGw6IzY4M2QwMDtmaWxsLW9wYWNpdHk6MSINCiAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjc2NjY2NjY3NjY2NjY2Njc3Nzc2NjY2NjY2NjY2MiIC8+PGcNCiAgICAgaWQ9Imc0MjE2Ig0KICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjUxNDk3NDQ4LC0xOC42OTEyMzQpIj48cGF0aA0KICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjYyINCiAgICAgICBzdHlsZT0iZmlsbDojNDQ3ODIxO2ZpbGwtb3BhY2l0eToxIg0KICAgICAgIGQ9Im0gNy42OTA2MDUsMjUuNTUxOTYgYyAtMC44MTk1OTIsMC42MTM2NzUgLTEuNjI4OTksMS4yMjEyMzMgLTIuNDYyODU0LDEuODQ1MTAxIGwgMCwtMy4xNjIxNTcgYyAwLjc0NjE5NiwtMC4wNzM0IDIuMDI2NTUzLDAuNjA1NTIgMi40NjI4NTQsMS4zMTcwNTYgeiINCiAgICAgICBpZD0icGF0aDgtNy0yIg0KICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+PHBhdGgNCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjY2NjY2NjYyINCiAgICAgICBzdHlsZT0iZmlsbDojMDA2NjgwO2ZpbGwtb3BhY2l0eToxIg0KICAgICAgIGQ9Im0gNC43MjMwNjYzLDI0LjUwMDI0NCAwLDEuODY1NDg5IGMgMCwwLjM4OTQwOCAtMC4wMDYxLDAuNzgwODU1IDAuMDA0MSwxLjE3MDI2MyAwLjAwMiwwLjA5Nzg2IDAuMDMwNTgsMC4yMDU5MTggMC4wODM1OSwwLjI4NzQ2OSAwLjQ4MzE5MywwLjc2MjUwNiAwLjk3NjU3OSwxLjUxODg5NiAxLjQ2Mzg0OSwyLjI3NzMyNCBsIDAuMTc3Mzc0LDAuMjc1MjM2IGMgLTAuODY4NTIzLDAuNTUyNTExIC0yLjI3OTM2MywwLjYxNTcxNCAtMy4zNzIxNTIsLTAuMTc1MzM1IC0xLjExMTE2LC0wLjgwMzI4MiAtMS41ODIxMiwtMi4yMTYxNjEgLTEuMTcwMjg1LC0zLjUxMDc5IDAuMzk1NTI0LC0xLjI0OTc3NiAxLjU3Mzk0MywtMi4xNzMzNDYgMi44MTM1MjQsLTIuMTg5NjU2IHoiDQogICAgICAgaWQ9InBhdGg4LTctMi05Ig0KICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+PHBhdGgNCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjY2MiDQogICAgICAgc3R5bGU9ImZpbGw6I2FhNDQwMDtmaWxsLW9wYWNpdHk6MSINCiAgICAgICBkPSJtIDcuMDIxMTk5NiwzMC40MDIzODMgYyAtMC41NDQzNTYsLTAuODQ0MDU3IC0xLjA4ODcxMiwtMS42ODgxMTUgLTEuNjQxMjIzLC0yLjU0MjM2NiAwLjg1ODMyOSwtMC42NDIyMTggMS43MDIzODcsLTEuMjc0MjQxIDIuNTQ4NDgzLC0xLjkwODMwNCAwLjg2MDM2OCwxLjI4NjQ3NCAwLjU5NTMyNSwzLjQwMDY5NSAtMC45MDcyNiw0LjQ1MDY3IHoiDQogICAgICAgaWQ9InBhdGg4LTctMi01Ig0KICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+PC9nPjxnDQogICAgIGlkPSJnNDIyMSINCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQuNDQ3NTA2OSwtMTguNDEwMzM5KSI+PHBhdGgNCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjY2NzY2Njc2NjY2NzY2NjY2NjY2NjY2NjIg0KICAgICAgIHN0eWxlPSJmaWxsOiNhYTQ0MDA7ZmlsbC1vcGFjaXR5OjEiDQogICAgICAgZD0ibSAxOS40MDA0NzEsMjYuMjgyOTYxIGMgMC42MDk1OTcsLTAuNjkzMTg3IDEuMjEzMDc4LC0xLjM3ODIxOSAxLjg1MTIxOCwtMi4xMDE5ODggLTAuMjgxMzUyLDAgLTAuNTExNzM1LC0wLjAwNDEgLTAuNzQyMTE4LDAuMDAyIC0wLjE1NDk0OCwwLjAwNDEgLTAuMjc1MjM2LC0wLjAzODc0IC0wLjI4OTUwOCwtMC4yMTQwNzQgLTAuMDEyMjMsLTAuMTQwNjc2IDAuMTAxOTQsLTAuMjIyMjI3IDAuMjk5NzAyLC0wLjIyMjIyNyAwLjM4MzI5MiwwIDAuNzY2NTgzLC0wLjAwMiAxLjE0OTg3NSwwIDAuMjI0MjY3LDAuMDAyIDAuMjkxNTQ3LDAuMDY1MjQgMC4yOTE1NDcsMC4yODk1MDcgMC4wMDIsMC4zOTU1MjUgLTAuMDAyLDAuNzkzMDg4IDAuMDAyLDEuMTg4NjEyIDAuMDAyLDAuMTUyOTA5IC0wLjA1OTEzLDAuMjY1MDQzIC0wLjIxNjExMiwwLjI2NTA0MyAtMC4xNTY5ODYsMCAtMC4yMjIyMjcsLTAuMTA4MDU2IC0wLjIyMDE4OSwtMC4yNjMwMDQgMC4wMDIsLTAuMjEyMDM0IDAsLTAuNDI0MDY3IDAsLTAuNjg5MTA5IC0wLjA5Mzc5LDAuMTAxOTM5IC0wLjE1OTAyNiwwLjE2OTIxOSAtMC4yMjAxOSwwLjI0MDU3NiAtMC41NTA0NzIsMC42MjM4NjkgLTEuMDk4OTA1LDEuMjQ5Nzc2IC0xLjY0OTM3OCwxLjg3MTYwNiAtMC4xNzMyOTYsMC4xOTU3MjMgLTAuMjQ4NzMxLDAuMjAxODQgLTAuNDU2Njg4LDAuMDM2NyAtMC41NTQ1NDksLTAuNDQwMzc4IC0xLjEwNzA2LC0wLjg4Mjc5NCAtMS42NzE4MDQsLTEuMzM1NDA1IC0wLjA1MzAxLDAuMDQ2ODkgLTAuMTA2MDE3LDAuMDg5NzEgLTAuMTU2OTg3LDAuMTM4NjM4IC0wLjYzNDA2MiwwLjU5NzM2NCAtMS4yNjgxMjUsMS4xOTI2ODkgLTEuOTAyMTg3LDEuNzkwMDU0IC0wLjA0Njg5LDAuMDQ0ODUgLTAuMDkxNzQsMC4wOTE3NCAtMC4xNDQ3NTQsMC4xMzA0ODIgLTAuMTAzOTc4LDAuMDc1NDMgLTAuMjI4MzQ0LDAuMDc3NDcgLTAuMjg5NTA3LC0wLjAzMDU4IC0wLjA0MDc4LC0wLjA3MTM2IC0wLjAyMDM5LC0wLjE4NzU2OCAtMC4wMDIsLTAuMjc5MzE0IDAuMDEwMTksLTAuMDQ2ODkgMC4wNzc0NywtMC4wODM1OSAwLjEyMDI4OCwtMC4xMjQzNjYgMC43MDk0OTgsLTAuNjY4NzIxIDEuNDE4OTk1LC0xLjMzNzQ0MyAyLjEyODQ5MywtMi4wMDQxMjYgMC4xODk2MDcsLTAuMTc3Mzc1IDAuMjQ2NjkzLC0wLjE3OTQxMyAwLjQ0ODUzMywtMC4wMTgzNSBsIDEuNDkyMzkxLDEuMTkyNjkgYyAwLjA1NzA5LDAuMDQ0ODUgMC4xMTQxNzIsMC4wODc2NyAwLjE3NzM3NCwwLjEzNjU5OCB6Ig0KICAgICAgIGlkPSJwYXRoOC03Ig0KICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+PHBhdGgNCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NjY2NjY3NjY2NjY2NjY3NzY2NjY2NjY2Njc2NjY2NjY2NjY2NjIg0KICAgICAgIHN0eWxlPSJmaWxsOiMwMDY2ODA7ZmlsbC1vcGFjaXR5OjEiDQogICAgICAgZD0ibSAxNC45NzY2NzQsMjkuNTY2NTg3IGMgMCwtMC4yMzI0MjIgMC4wMDIsLTAuNDY2ODgyIDAsLTAuNzAxMzQzIC0wLjAwMiwtMC4xNzUzMzUgMC4wNzU0MywtMC4yNjkxMTkgMC4yNTQ4NDgsLTAuMjY5MTE5IDAuMjY1MDQzLDAgMC41MzIxMjQsMC4wMDIgMC43OTcxNjYsMCAwLjE3OTQxMywtMC4wMDIgMC4yNjA5NjQsMC4wOTM3OCAwLjI2MzAwMywwLjI2NTA0MiAwLjAwMiwwLjQ3OTExNSAwLjAwMiwwLjk2MDI2OCAwLDEuNDM5MzgzIDAsMC4xNzMyOTcgLTAuMDg1NjMsMC4yNjMwMDMgLTAuMjY1MDQyLDAuMjYwOTY0IC0wLjI1ODkyNiwtMC4wMDIgLTAuNTE5ODksMC4wMDIgLTAuNzc4ODE2LC0wLjAwMiAtMC4xOTM2ODUsLTAuMDAyIC0wLjI2NzA4MSwtMC4wNzk1MSAtMC4yNjkxMiwtMC4yNzUyMzYgLTAuMDA0MSwtMC4yMzg1MzggLTAuMDAyLC0wLjQ3OTExNSAtMC4wMDIsLTAuNzE3NjUzIGwgMCwwIHogTSAxOC43NjI3LDI5LjIzNDI2NSBjIDAsLTAuMzM4NDM5IC0wLjAwMiwtMC42NzQ4MzggMCwtMS4wMTMyNzcgMC4wMDIsLTAuMjA3OTU2IDAuMDcxMzYsLTAuMjc3Mjc1IDAuMjgxMzUyLC0wLjI3OTMxNCAwLjI1MjgxLC0wLjAwMiAwLjUwNTYxOSwtMC4wMDIgMC43NjA0NjcsMCAwLjE5NTcyNCwwLjAwMiAwLjI3MzE5OCwwLjA3MzQgMC4yNzMxOTgsMC4yNzExNTkgMC4wMDQxLDAuNjk1MjI2IDAuMDAyLDEuMzg4NDEzIDAsMi4wODM2MzkgMCwwLjE3MTI1OCAtMC4wODU2MywwLjI2NTA0MiAtMC4yNjUwNDIsMC4yNjMwMDQgLTAuMjU4OTI2LC0wLjAwMiAtMC41MTk4OTEsMC4wMDIgLTAuNzc4ODE3LC0wLjAwMiAtMC4xOTM2ODQsLTAuMDAyIC0wLjI2OTExOSwtMC4wNzk1MSAtMC4yNzExNTgsLTAuMjczMTk3IC0wLjAwMiwtMC4zNDg2MzMgMCwtMC42OTkzMDQgMCwtMS4wNDk5NzUgeiBtIC0wLjU4MzA5MywtMC4zMTM5NzMgYyAwLDAuNDQ4NTMzIDAuMDAyLDAuODk3MDY2IDAsMS4zNDM1NiAwLDAuMjI2MzA1IC0wLjA2NTI0LDAuMjkxNTQ2IC0wLjI4NzQ2OSwwLjI5NTYyNCAtMC4yNDY2OTMsMC4wMDIgLTAuNDkzMzg2LDAuMDAyIC0wLjc0MDA3OSwwIC0wLjIwMTg0LC0wLjAwMiAtMC4yNzcyNzUsLTAuMDY3MjggLTAuMjc5MzE0LC0wLjI2MzAwNCAtMC4wMDQxLC0wLjkxNTQxNSAtMC4wMDQxLC0xLjgzMDgzIDAsLTIuNzQ4MjgzIDAsLTAuMTk3NzYzIDAuMDc1NDMsLTAuMjYzMDA0IDAuMjc3Mjc1LC0wLjI2NTA0MyAwLjI1MjgxLC0wLjAwMiAwLjUwNzY1OCwtMC4wMDIgMC43NjA0NjcsMCAwLjE5NTcyNCwwLjAwMiAwLjI2NzA4MSwwLjA3NTQzIDAuMjY3MDgxLDAuMjczMTk4IDAuMDA0MSwwLjQ1NDY0OSAwLjAwMiwwLjkwOTI5OCAwLjAwMiwxLjM2Mzk0OCB6IG0gMi40NzkxNjQsLTAuMzA5ODk2IDAsLTEuNjU3NTMzIGMgMCwtMC4yNjkxMiAwLjA2MzIsLTAuMzI4MjQ0IDAuMzM0MzYxLC0wLjMzMDI4MyAwLjIyODM0NCwwIDAuNDU0NjQ5LC0wLjAwMiAwLjY4Mjk5MywwIDAuMjA5OTk1LDAuMDAyIDAuMjg3NDY5LDAuMDczNCAwLjI4NzQ2OSwwLjI3NTIzNiAwLjAwMiwxLjEzMTUyNiAwLjAwMiwyLjI2MTAxNCAwLDMuMzkyNTQgMCwwLjE5MzY4NSAtMC4wNzc0NywwLjI2NTA0MiAtMC4yNzUyMzYsMC4yNjkxMiAtMC4yNTI4MSwwLjAwNDEgLTAuNTA3NjU4LDAuMDAyIC0wLjc2MDQ2NywwIC0wLjE5MzY4NSwtMC4wMDIgLTAuMjY3MDgxLC0wLjA3MzQgLTAuMjY5MTIsLTAuMjczMTk4IDAsLTAuNTU4NjI3IDAuMDAyLC0xLjExNzI1NCAwLC0xLjY3NTg4MiB6Ig0KICAgICAgIGlkPSJwYXRoOC03LTIzIg0KICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+PC9nPjwvc3ZnPg==);
							}
							.dashboardId > .editor {
								display: block;
								padding-left: 26px;
								min-width: 280px;
							}
							.dashboardId > .editor > input {
								font-size: 14px;
							}

						</style>
						<div class="option dashboardId">
							<div class="icon"></div>
							<div class="editor" jsb="JSB.Widgets.PrimitiveEditor" readonly="true" title="Идентификатор визуализации" placeholder="Идентификатор визуализации"></div>
						</div>`,
					onInit: function(){
						var dashboardEntry = JSB.getInstance(this.getContext());
						this.find('.editor').jsb().setData(dashboardEntry.getId());
					}
				},
				
				dashboardShare: {
					render: 'template',
					template: `#dot
						<style>
							.dashboardShare {}
							.dashboardShare > .icon {
								width: 20px;
								height: 20px;
								background-size: 100%;
								position: absolute;
								left: 0;
								top: 50%;
								margin-top: -10px;
								background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+DQoNCjxzdmcNCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyINCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiDQogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiDQogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIg0KICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIg0KICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIg0KICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiDQogICB2ZXJzaW9uPSIxLjEiDQogICBpZD0iQ2FwYV8xIg0KICAgeD0iMHB4Ig0KICAgeT0iMHB4Ig0KICAgdmlld0JveD0iMCAwIDE4LjUxMjk2OSAxOC41MTI5NjkiDQogICB4bWw6c3BhY2U9InByZXNlcnZlIg0KICAgd2lkdGg9IjIwIg0KICAgaGVpZ2h0PSIyMCINCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTEgcjEzNzI1Ig0KICAgc29kaXBvZGk6ZG9jbmFtZT0ic2hhcmUuc3ZnIj48bWV0YWRhdGENCiAgICAgaWQ9Im1ldGFkYXRhNzMiPjxyZGY6UkRGPjxjYzpXb3JrDQogICAgICAgICByZGY6YWJvdXQ9IiI+PGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+PGRjOnR5cGUNCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz48ZGM6dGl0bGU+PC9kYzp0aXRsZT48L2NjOldvcms+PC9yZGY6UkRGPjwvbWV0YWRhdGE+PGRlZnMNCiAgICAgaWQ9ImRlZnM3MSIgLz48c29kaXBvZGk6bmFtZWR2aWV3DQogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiINCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiDQogICAgIGJvcmRlcm9wYWNpdHk9IjEiDQogICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiDQogICAgIGdyaWR0b2xlcmFuY2U9IjEwIg0KICAgICBndWlkZXRvbGVyYW5jZT0iMTAiDQogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIg0KICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIg0KICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE5MjAiDQogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjExNzgiDQogICAgIGlkPSJuYW1lZHZpZXc2OSINCiAgICAgc2hvd2dyaWQ9ImZhbHNlIg0KICAgICBpbmtzY2FwZTp6b29tPSIyOS41Ig0KICAgICBpbmtzY2FwZTpjeD0iMTQuMjc4MTEzIg0KICAgICBpbmtzY2FwZTpjeT0iMTMuNDk1NjU5Ig0KICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMTkxMiINCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii04Ig0KICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIg0KICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJDYXBhXzEiIC8+PHBhdGgNCiAgICAgZD0ibSAxNS4wNDUwMzksMTEuNzc4NTk4IGMgLTEuMDY5ODE5LDAgLTIuMDEzNDY0LDAuNTA5NjgyIC0yLjYyOTk4LDEuMjkwMTkyIEwgNi42OTY3MjY0LDEwLjE0NDQzMiBDIDYuNzcxNTg4LDkuODY1MjIxNyA2LjgyNTM5NDgsOS41NzY3MzE3IDYuODI1Mzk0OCw5LjI3MzExMzUgYyAwLC0wLjMzMDUyMTcgLTAuMDYzOTA1LC0wLjY0MTcwNCAtMC4xNTMwNzYzLC0wLjk0NDUwMzUgTCAxMi4zNjU0MjQsNS40MTc3NDI3IGMgMC42MTMxMjQsMC44MTU4MzUxIDEuNTgxMTc3LDEuMzQ5MDY3OCAyLjY4MDQzNCwxLjM0OTA2NzggMS44NjIxMDMsMCAzLjM2ODQxOSwtMS41MDYzMTYxIDMuMzY4NDE5LC0zLjM2Njc0MyAzLjllLTUsLTEuODU4NzUwNCAtMS41MDYzMTYsLTMuMzY1OTI0MjcgLTMuMzY4MzgsLTMuMzY1OTI0MjcgLTEuODU3ODkzLDAgLTMuMzY1ODg2LDEuNTA3MTczODcgLTMuMzY1ODg2LDMuMzY1ODg1MjcgMCwwLjMwNDQ3NiAwLjA1Mzg1LDAuNTkzNzg0OCAwLjEyOTUyNywwLjg3Mzg1MjggTCA2LjA5MjAyNDMsNy4xOTgyMzkzIEMgNS40NzQ2ODkzLDYuNDE2OTEwNyA0LjUyOTMyODEsNS45MDU1NTE2IDMuNDU3ODMyOSw1LjkwNTU1MTYgYyAtMS44NjA0MjY5LDAgLTMuMzY1ODg1MjcsMS41MDc5OTI3IC0zLjM2NTg4NTI3LDMuMzY3NTYxOSAwLDEuODU5NTY5NSAxLjUwNTQ5NzM3LDMuMzY2NzQzNSAzLjM2NTg4NTI3LDMuMzY2NzQzNSAxLjEwMDkzMjksMCAyLjA2ODE2NzgsLTAuNTM0OTEgMi42ODM3ODcyLC0xLjM1MTU2NCBsIDUuNjkwNTcwOSwyLjkxMDg2OCBjIC0wLjA4OTE3LDAuMzAxOTQxIC0wLjE1Mzg5NSwwLjYxNTY1OCAtMC4xNTM4OTUsMC45NDcwMzcgMCwxLjg1OTU3IDEuNTA3OTkzLDMuMzY2NzQzIDMuMzY1ODg1LDMuMzY2NzQzIDEuODYyMTA0LDAgMy4zNjg0MiwtMS41MDcxNzMgMy4zNjg0MiwtMy4zNjY3NDMgOC41OGUtNCwtMS44NjEyNDUgLTEuNTA1NDU5LC0zLjM2NzYgLTMuMzY3NTYyLC0zLjM2NzYgeiINCiAgICAgaWQ9InBhdGg3Ig0KICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIg0KICAgICBzdHlsZT0iZmlsbDojOWU0NzFiIiAvPjxnDQogICAgIGlkPSJnMzkiDQogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTQ1NS40MTkwNikiIC8+PGcNCiAgICAgaWQ9Imc0MSINCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtNDU1LjQxOTA2KSIgLz48Zw0KICAgICBpZD0iZzQzIg0KICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLC00NTUuNDE5MDYpIiAvPjxnDQogICAgIGlkPSJnNDUiDQogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTQ1NS40MTkwNikiIC8+PGcNCiAgICAgaWQ9Imc0NyINCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtNDU1LjQxOTA2KSIgLz48Zw0KICAgICBpZD0iZzQ5Ig0KICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLC00NTUuNDE5MDYpIiAvPjxnDQogICAgIGlkPSJnNTEiDQogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTQ1NS40MTkwNikiIC8+PGcNCiAgICAgaWQ9Imc1MyINCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtNDU1LjQxOTA2KSIgLz48Zw0KICAgICBpZD0iZzU1Ig0KICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLC00NTUuNDE5MDYpIiAvPjxnDQogICAgIGlkPSJnNTciDQogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTQ1NS40MTkwNikiIC8+PGcNCiAgICAgaWQ9Imc1OSINCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtNDU1LjQxOTA2KSIgLz48Zw0KICAgICBpZD0iZzYxIg0KICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLC00NTUuNDE5MDYpIiAvPjxnDQogICAgIGlkPSJnNjMiDQogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTQ1NS40MTkwNikiIC8+PGcNCiAgICAgaWQ9Imc2NSINCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtNDU1LjQxOTA2KSIgLz48Zw0KICAgICBpZD0iZzY3Ig0KICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLC00NTUuNDE5MDYpIiAvPjwvc3ZnPg==);
							}
							.dashboardShare > .editor {
								vertical-align: middle;
								padding-left: 26px;
							    min-width: 450px;
							}
							.dashboardShare > .editor > input {
								font-size: 14px;
							}
							.dashboardShare > .btnOpenNewWindow {
								vertical-align: middle;
							}
							.dashboardShare > .btnOpenNewWindow > ._dwp_icon {
								background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8IS0tIFN2ZyBWZWN0b3IgSWNvbnMgOiBodHRwOi8vd3d3Lm9ubGluZXdlYmZvbnRzLmNvbS9pY29uIC0tPg0KDQo8c3ZnDQogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iDQogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIg0KICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIg0KICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyINCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyINCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCINCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIg0KICAgdmVyc2lvbj0iMS4xIg0KICAgeD0iMHB4Ig0KICAgeT0iMHB4Ig0KICAgdmlld0JveD0iMCAwIDE2IDE2Ig0KICAgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIg0KICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSINCiAgIGlkPSJzdmcyIg0KICAgaW5rc2NhcGU6dmVyc2lvbj0iMC45MSByMTM3MjUiDQogICBzb2RpcG9kaTpkb2NuYW1lPSJzaGFyZU9wZW4uc3ZnIg0KICAgd2lkdGg9IjE2Ig0KICAgaGVpZ2h0PSIxNiI+PGRlZnMNCiAgICAgaWQ9ImRlZnMxNCIgLz48c29kaXBvZGk6bmFtZWR2aWV3DQogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiINCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiDQogICAgIGJvcmRlcm9wYWNpdHk9IjEiDQogICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiDQogICAgIGdyaWR0b2xlcmFuY2U9IjEwIg0KICAgICBndWlkZXRvbGVyYW5jZT0iMTAiDQogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIg0KICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIg0KICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE5MjAiDQogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjExNzgiDQogICAgIGlkPSJuYW1lZHZpZXcxMiINCiAgICAgc2hvd2dyaWQ9ImZhbHNlIg0KICAgICBpbmtzY2FwZTp6b29tPSI0Mi43MjA1NjMiDQogICAgIGlua3NjYXBlOmN4PSI4Ljc0NDQ5NTQiDQogICAgIGlua3NjYXBlOmN5PSI5Ljc2MjU2MzEiDQogICAgIGlua3NjYXBlOndpbmRvdy14PSIxOTEyIg0KICAgICBpbmtzY2FwZTp3aW5kb3cteT0iLTgiDQogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiDQogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9InN2ZzIiIC8+PG1ldGFkYXRhDQogICAgIGlkPSJtZXRhZGF0YTQiPiBTdmcgVmVjdG9yIEljb25zIDogaHR0cDovL3d3dy5vbmxpbmV3ZWJmb250cy5jb20vaWNvbiA8cmRmOlJERj48Y2M6V29yaw0KICAgICByZGY6YWJvdXQ9IiI+PGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+PGRjOnR5cGUNCiAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPjxkYzp0aXRsZT48L2RjOnRpdGxlPjwvY2M6V29yaz48L3JkZjpSREY+PC9tZXRhZGF0YT48Zw0KICAgICBpZD0iZzYiDQogICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuMDE2MjY4MDEsMCwwLDAuMDE2MjY4MDEsLTAuMTQxMzI5MTQsLTAuMDkzODI5NzgpIj48cGF0aA0KICAgICAgIGQ9Im0gNDY0LjEsMTYxLjIgLTI4My41LDAgYyAtMzkuNiwwIC03NSwtMi44IC03NSwzNy4zIGwgMCw1NjcuNiBjIDAsNDAuMSAzMi4xLDcyLjYgNzEuNyw3Mi42IGwgNTczLjcsMCBjIDM5LjYsMCA3MS43LC0zMi41IDcxLjcsLTcyLjYgbCAwLC0xNDUuMSA5NS42LDAgMCwyNDIgYyAwLDQwLjEgLTMyLjEsNzIuNiAtNzEuNyw3Mi42IGwgLTc2NC45LDAgQyA0Mi4xLDkzNS42IDEwLDkwMy4xIDEwLDg2MyBMIDEwLDEzNyBDIDEwLDk2LjkgNDIuMSw2NC40IDgxLjcsNjQuNCBsIDM4Mi40LDAgMCw5Ni44IHoiDQogICAgICAgaWQ9InBhdGg4Ig0KICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+PHBhdGgNCiAgICAgICBkPSJtIDE5My4yLDYzNS40IGMgMCwwIDI4LjgsLTM4NC4yIDQ4OS42LC0zODAuOSBsIDAsLTE5MC4xIDMwNy4yLDI4Ni41IC0zMDcuMiwyODYuNSAwLC0xODguNyBjIDAsMCAtMjkxLjIsLTQ5LjkgLTQ4OS42LDE4Ni43IHoiDQogICAgICAgaWQ9InBhdGgxMCINCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiAvPjwvZz48L3N2Zz4=);
							}

						</style>
						<div class="option dashboardShare">
							<div class="icon"></div>
							<div class="editor" jsb="JSB.Widgets.PrimitiveEditor" readonly="true" title="URL визуализации" placeholder="URL визуализации"></div>
							<div jsb="JSB.Widgets.Button" class="roundButton btn16 btnOpenNewWindow" caption="Открыть"></div>
						</div>`,
					onInit: function(){
						var self = this;
						var dashboardEntry = JSB.getInstance(this.getContext());
						var wid = dashboardEntry.getWorkspace().getId();
						var eid = dashboardEntry.getId();
						dashboardEntry.server().getPagePath(function(path){
							var jsbPath = JSB.getProvider().getServerBase() + path + '?wsid=' + wid + '&did=' + eid;
							self.find('.editor').jsb().setData(jsbPath);
							self.find('.btnOpenNewWindow').jsb().on({
								click: function(){
									var url = self.find('.editor').jsb().getData().getValue();
									var win = window.open(url, '_blank');
									win.focus();
								}
							});
						});
					}
				}
			}
		},
		publication: {
			render: 'group',
			name: 'Публикация',
			items: {
				description: {
					render: 'item',
					name: 'Описание',
					editor: 'JSB.Widgets.PrimitiveEditor',
					editorOpts: {
						multiline: true,
						resizable: true,
						rows: 3,
						cols: 50
					}
				},
				icon: {
					name: 'Иконка',
					render: 'item',
					editor: 'JSB.Widgets.ImageLoader',
					editorOpts: {
						size: 32,
					}
				},
				logo: {
					name: 'Логотип',
					render: 'item',
					editor: 'JSB.Widgets.ImageLoader',
					editorOpts: {
						size: 256,
					}
				},
				url: {
					name: 'Внешний URL',
					render: 'item',
				},
				watermark: {
					render: 'group',
					name: 'Вставить водяной знак',
					optional: true,
					items: {
						wmIcon: {
							name: 'Водяной знак',
							render: 'item',
							editor: 'JSB.Widgets.ImageLoader',
							editorOpts: {
								size: 64,
							}
						},
						wmPosition: {
                            render: 'item',
                            name: 'Расположение',
                            editor: 'JSB.Controls.Positioner',
                            editorOpts: {
                                positions: [
                                    [ { key: 'topleft', name: 'Верхний левый угол' }, { key: 'topright', name: 'Верхний правый угол'}],
                                    [ { key: 'bottomleft', name: 'Нижний левый угол' }, { key: 'bottomright', name: 'Нижний правый угол' }]
                                ]
                            }
                        }
					}
				},
				keywords: {
					render: 'item',
					name: 'Ключевые слова',
					multiple: true
				}
			}
		},
		
		details: {
			render: 'group',
			name: 'Дополнительно',
			items: {
				metaTags: {
					render: 'group',
					name: 'Мета тэги',
					multiple: true,
					items: {
						tagName: {
							render: 'item',
							name: 'name'
						},
						tagProp: {
							render: 'item',
							name: 'property'
						},
						tagContent: {
							render: 'item',
							name: 'content'
						},
						tagHttpEquiv: {
							render: 'item',
							name: 'http-equiv'
						},
						tagCharset: {
							render: 'item',
							name: 'charset'
						}
					}
				},
				headEntries: {
					render: 'item',
					name: 'HEAD',
					optional: true,
					editor: 'JSB.Widgets.MultiEditor',
					editorOpts: {
						valueType: 'org.jsbeans.types.Html'
					}
				},
				bodyBefore: {
					render: 'item',
					name: 'BODY (начало)',
					optional: true,
					editor: 'JSB.Widgets.MultiEditor',
					editorOpts: {
						valueType: 'org.jsbeans.types.Html'
					}
				},
				bodyAfter: {
					render: 'item',
					name: 'BODY (конец)',
					optional: true,
					editor: 'JSB.Widgets.MultiEditor',
					editorOpts: {
						valueType: 'org.jsbeans.types.Html'
					}
				}

			}
		}
	},
	
	getWidgetCount: function(){
		return this.widgetCount;
	},
	
	widgetCount: 0,
	lastUpdated: null,
	
	$client: {
		enumWidgets: function(callback){
			$this.server().getWrappers(callback);
		}
	},
	
	$server: {
		layout: null,
		wrappers: {},
		
		$require: ['JSB.Workspace.WorkspaceController',
		           'DataCube.Model.Widget'],
		
		loaded: false,
		
		$constructor: function(id, workspace, opts){
			$base(id, workspace);
			if(this.property('widgets')){
				this.widgetCount = this.property('widgets');
			}
			if(this.property('lastUpdated')){
				this.lastUpdated = this.property('lastUpdated');
			}
		},
		
		destroy: function(){
			if(this.existsArtifact('.dashboard')){
				this.removeArtifact('.dashboard');
			}
			$base();
		},
		
		updateLayout: function(layout){
			this.load();
			// check layout to be stored
			function checkLayoutFailed(lEntry){
				if(lEntry && lEntry.widgets){
					for(var i = 0; i < lEntry.widgets.length; i++){
						var wServerId = lEntry.widgets[i];
						if(!$this.wrappers[wServerId]){
							return wServerId;
						}
					}
				} 
				if(lEntry && lEntry.containers){
					for(var i = 0; i < lEntry.containers.length; i++){
						var failId = checkLayoutFailed(lEntry.containers[i]);
						if(failId){
							return failId;
						}
					}
				}
				
				return false;
			}
			
			var failId = checkLayoutFailed(layout);
			if(failId){
				JSB.getLogger().warn('Wrong layout: Unable to find widget entry for: ' + failId);
				return;
			}
			
			this.layout = layout;
			JSB.getLogger().info('Layout saved: ' + JSON.stringify(layout, null, 4));
			this.updateUnusedWrappers();
			this.store();
			this.doSync();
		},
		
		createWidgetWrapper: function(wType, wName){
			this.load();
			var wwId = JSB.generateUid();
			var wWrapper = new Widget(wwId, this.getWorkspace(), this, wName, wType);
			this.wrappers[wwId] = wWrapper;
			this.widgetCount = Object.keys(this.wrappers).length;
			this.addChildEntry(wWrapper);
			this.store();
			this.doSync();
			return wWrapper;
		},
		
		removeWidgetWrapper: function(wwId){
			this.load();
			if(!this.wrappers[wwId]){
				throw new Error('Failed to find widget wrapper with id: ' + wwId);
			}
			delete this.wrappers[wwId];
			this.fixupLayout();
			this.widgetCount = Object.keys(this.wrappers).length;
			
			var cEntry = this.removeChildEntry(wwId);
			if(cEntry){
				cEntry.remove();
			}
			this.store();
			this.doSync();
			return true;
		},
		
		checkWrapperRelation: function(wwId){
			if(this.hasChildEntry(wwId)){
				return true;
			}
			return false;
		},
		
		fixupLayout: function(){},
		
		store: function(){
			this.load();
			var mtxName = 'store_' + this.getId();
			JSB.getLocker().lock(mtxName);
			try {
				var desc = {
					layout: this.layout,
					//wrappers: {}
				}
				/*
				for(var wId in this.wrappers){
					var wWrapper = this.wrappers[wId];
					desc.wrappers[wId] = {
						jsb: wWrapper.getWidgetType(),
						name: wWrapper.getName(),
						values: wWrapper.getValues(),
						sourcesIds: wWrapper.getSourcesIds()
					}
				}
				*/
				this.widgetCount = Object.keys(this.wrappers).length;
				this.lastUpdated = Date.now();
				this.property('widgets', this.widgetCount);
				this.property('lastUpdated', this.lastUpdated);
				this.storeArtifact('.dashboard', desc);
			} finally {
				JSB.getLocker().unlock(mtxName);	
			}
			this.getWorkspace().store();
		},
		
		load: function(){
			var bNeedStore = false;
			if(!this.loaded){
				var mtxName = 'load_' + this.getId();
				JSB.getLocker().lock(mtxName);
				try {
					if(!this.loaded) {
						if(this.existsArtifact('.dashboard')){
							// read layout
							var snapshot = this.loadArtifact('.dashboard');
							this.layout = snapshot.layout;
	
							// read wrappers
							this.wrappers = this.getChildren();

							/*
							for(var wId in snapshot.wrappers){
								var wDesc = snapshot.wrappers[wId];
								
								if(!this.wrappers[wId]){
									var wWrapper = this.getWorkspace().entry(wId);
									if(!wWrapper){
										bNeedStore = true;
										wWrapper = new Widget(wId, this.getWorkspace(), this, wDesc.name, wDesc.jsb, wDesc.values);
										this.addChildEntry(wWrapper);
									}
									
									this.wrappers[wId] = wWrapper;
								}
							}
							*/
							
							this.updateUnusedWrappers();
/*							
							for(var wId in unusedWrappers){
								bNeedStore = true;
								var cEntry = this.removeChildEntry(wId);
								if(cEntry){
									cEntry.remove();
								}
								delete this.wrappers[wId];
							}
*/							
						}
						this.loaded = true;
						this.widgetCount = Object.keys(this.wrappers).length;
					}
				} finally {
					JSB.getLocker().unlock(mtxName);	
				}
			}
			
			if(bNeedStore){
				this.store();
				this.doSync();
			}
			
			return {
				layout: this.layout,
				wrappers: this.wrappers
			}
		},
		
		updateUnusedWrappers: function(){
			var unusedWrappers = JSB.clone(this.wrappers);
			function performLayoutEntry(lEntry){
				if(lEntry && lEntry.widgets){
					for(var i = 0; i < lEntry.widgets.length; i++){
						var wServerId = lEntry.widgets[i];
						if(unusedWrappers[wServerId]){
							if(unusedWrappers[wServerId].unused){
								unusedWrappers[wServerId].unused = false;
								unusedWrappers[wServerId].property('unused', false);
								unusedWrappers[wServerId].doSync();
							}
							delete unusedWrappers[wServerId];
						} else {
							// missing entry
						}
					}
				} 
				if(lEntry && lEntry.containers){
					for(var i = 0; i < lEntry.containers.length; i++){
						performLayoutEntry(lEntry.containers[i]);
					}
				} 
			}
			
			performLayoutEntry(this.layout);
			
			if(Object.keys(unusedWrappers).length == 0){
				return;
			}
			for(var wId in unusedWrappers){
				unusedWrappers[wId].unused = true;
				unusedWrappers[wId].property('unused', true);
				unusedWrappers[wId].doSync();
			}
		},
	
		getSources: function(){
			var sources = {};
			this.load();
			
			for(var wId in this.wrappers){
				var wWrapper = this.wrappers[wId];
				var srcMap = wWrapper.getSourceMap();
				for(var srcId in srcMap){
					if(!sources[srcId]){
						sources[srcId] = this.getWorkspace().entry(srcId);
					}
					var srcArr = srcMap[srcId];
					for(var i = 0; i < srcArr.length; i++){
						var srcArrId = srcArr[i];
						if(!sources[srcArrId]){
							sources[srcArrId] = this.getWorkspace().entry(srcArrId);
						}
					}
				}
			}
			
			return sources;
		},
		
		getWrappers: function(){
			$this.load();
			return $this.wrappers;
		},
		
		getPagePath: function(){
			var dashboardPageJsb = Config.get('datacube.dashboard.jsb');
			var jsb = JSB.get(dashboardPageJsb);
			var path = jsb.getBasePathFile();
			return path;
		}
	}
}