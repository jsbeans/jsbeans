# *jsb* Tool

Утилита _jsb_ предназначается разработчикам и автоматизирует рутину работы с проектами, реализует основные сценарии для создания и сборки приложений на платформе **jsBeans**.

## Введение

Для сборки jsBeans и его модулей из исходных кодов требуется:
- JDK;
- Git;
- Maven;
- базовое окружение:
    - Linux: bash и базовые утилиты коммандной строки, как правило входящие в базовый дистрибутив;
    - Windows: Cygwin или Linux окружение;
    - Mac OS: bash и базовые утилиты коммандной строки, как правило входящие в базовый дистрибутив.

Для сборки "легких" проектов (без исходников на *.java):
- jsBeans;
- JVM;
- Git.

## Справка по утилите и командам
```
    $ jsb --help
    $ jsb COMMAND --help
```



## Установка окружения jsBeans
  
**Из исходных кодов**

1) Загрузка исходных кодов jsBeans
```
    $ git clone git@dev.sis.ru:sis/jsbeans jsbeans
```

2) Установка локального окружения jsBeans
```
    $ cd jsbeans
    $ jsb install 
```

В результате будет произведена сборка jsBeans из исходных кодов и установка алиаса команды *jsb* в ~/.bash_rc. Сборка выполняется Maven.


## Создание простого проекта из одного модуля

Инициализация модуля в текущей директории: 
```
    $ jsb init my.test:hello-world:1.0
```

Инициализация модуля в новой директории: 
```
    $ jsb init --dir=hello-world my.test:hello-world:1.0
```

## Инициализация проекта сборки приложения (для запуска)

Инициализация проекта сборки архива с дистрибутивом на основе текущего модуля выполнить находясь в директории модуля: 
```
    $ jsb init --assembly
```

Для сборки архива с дистрибутивом на основе текущего модуля:
```
    $ jsb assembly
```

## Создание сложного проекта из нескольких модулей

Проект, состоящий из нескольких модулей или имеющий сложную структуру создается на основе принципа пакетов с модулями.
Каждый пакет представляет собой родительский проект и каталог с несколькими модулями.


### Создание базового родительского проекта (пакета)
```
    $ jsb init --package --dir=hello-world my.test:hello-world-root:1.0
```

Все модули и дочерние пакеты, которые включены в сборочный реактор, должны быть указаны в pom.xml в конфигурации `<module></module>`. 

### Инициализация модуля
```
    $ jsb init --dir=my-module my.test:my-module:1.0
```
Если модуль использует зависимости, их необходимо задать в pom.xml в конфигурациях `<dependency>...</dependency>`.


### Инициализация преокта сборки
```
    $ jsb init --assembly --dir=my-app my.test:my-app:1.0
```

В pom-assembly.xml необходимо указать конфигурации всех включенных в приложение зависимостей `<dependency>...</dependency>`.

### Подключение стороннего пакета с модулями

Подключение стороннего пакета с модулями выполняется через клонирование соответствующего git-репозитория с последующей сборкой.
Пакет может быть задан Git URL или названием модуля, которому соответствует репозиторий.

В результате команды в консоле будут отоборажены конфигурации зависимостей, которые необходимо включить в pom.xml.

Подключение стороннего пакета из Git исходников:
```
    $ jsb install --dir=modules/workspace git@dev.sis.ru:sis/jsbeans-workspace
```
Подключение стороннего модуля из Git исходников из заданной метки:
```
    $ jsb install --dir=modules/workspace git@dev.sis.ru:sis/jsbeans-workspace:my-branch
```

Подключение стороннего модуля из исходников как git-субмодуль:
```
    $ jsb install --git-submodule --dir=modules/workspace git@dev.sis.ru:sis/jsbeans-workspace
```

Подключение стороннего модуля по названию:
```
    $ jsb install --dir=modules/workspace git@dev.sis.ru:sis/jsbeans-workspace
```
